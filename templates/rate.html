{% extends "base.html" %}

{% block content %}

<div class="rating-form">
    <form action="/rate/process" enctype="multipart/form-data" method="post">
        <h2 class="title">Rate your toilet</h2>

        <!-- <iframe src="'https://maps.google.com/maps?q=' + {{lat}} + ',' + {{lng}} + '&t=&z=15&ie=UTF8&iwloc=&output=embed'" /> -->
        <iframe src = "https://maps.google.com/maps?q={{lat}},{{lng}}&hl=es;z=14&amp;output=embed"></iframe>
        <div class="wrong-pin">Wrong geo-pin? <a href="/rate">Try again</a> by using a new query</div>
    
        <!-- {% if msg != None %}
            <div class="rating-msg msg">{{msg}}</div>
        {% endif %} -->
    
        <!-- <label for="toilet-name">Enter a name for the toilet:</label>
        <input type="text" name="toilet-name" id="toilet-name" placeholder="toilet name"> -->
    
        <h2 class="subtitle">Rate out of five:</h2>
    
        <label for="cleanliness">Cleanliness (<span id="cleanliness-value">3</span>)</label>
        <input type="range" name="cleanliness" id="cleanliness" min="1" max="5" value="3" oninput="updateValue('cleanliness-value', this.value)">
    
        <label for="supplies">Supplies (<span id="supplies-value">3</span>)</label>
        <input type="range" name="supplies" id="supplies" min="1" max="5" value="3" oninput="updateValue('supplies-value', this.value)">
    
        <label for="privacy">Privacy (<span id="privacy-value">3</span>)</label>
        <input type="range" name="privacy" id="privacy" min="1" max="5" value="3" oninput="updateValue('privacy-value', this.value)">
    
        <label for="comment">Leave a comment if you like:</label>
        <textarea name="comment" id="comment" placeholder="optional comment here"></textarea>
    
        <button type="submit">Submit rating</button>
    </form>
</div>

<script>
    function updateValue(id, value) {
        document.getElementById(id).textContent = value;
    }
</script>

{% endblock %}